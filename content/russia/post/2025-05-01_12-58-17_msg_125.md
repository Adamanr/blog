---
date: '2025-05-20'
draft: false
summary: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Elixir
tags:
- Elixir
- NIF
title: 'üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Elixir —Å –Ω–∞—Ç–∏–≤–Ω—ã–º –∫–æ–¥–æ–º NIF, Ports –∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏'
---

![–ö–∞—Ä—Ç–∏–Ω–∫–∞](https://adamanr.github.io/blog/images/posts/ArticlesNif.png)

> _‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ü–µ—Ä–µ–¥ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö —è–∑—ã–∫–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç —Å–Ω–∞—á–∞–ª–∞ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ –Ω–∞ Elixir –±—ã–ª –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω. –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –≥—Ä–∞–º–æ—Ç–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–¥–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∏–Ω–æ–≥–¥–∞ –¥–∞—ë—Ç –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –Ω–µ–∂–µ–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–æ–≥–æ —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è._

<br> **Elixir** –∏ **Erlang** ‚Äî –æ—Ç–ª–∏—á–Ω—ã–µ —è–∑—ã–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã—Ö —Å–∏—Å—Ç–µ–º. –ù–æ –∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤—ã–∂–∞—Ç—å –º–∞–∫—Å–∏–º—É–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –¥–æ—Å—Ç—É–ø–Ω—É—é –ª–∏—à—å –Ω–∞ –¥—Ä—É–≥–æ–º —è–∑—ã–∫–µ. –ï—Å–ª–∏ –≤—ã –ø–æ–ø–∞–ª–∏ –∏–º–µ–Ω–Ω–æ –≤ —Ç–∞–∫—É—é —Å–∏—Ç—É–∞—Ü–∏—é –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å, –∫–∞–∫ —Å–æ–≤–º–µ—Å—Ç–∏—Ç—å –¥–≤–∞ –≤–∞—à–∏—Ö –ª—é–±–∏–º—ã—Ö —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —ç—Ç–∞ —Å—Ç–∞—Ç—å—è –¥–ª—è –≤–∞—Å! <br>


---
<br>

## üîç –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–∞—Ç–∏–≤–Ω—ã–º –∫–æ–¥–æ–º

–ü—Ä–µ–∂–¥–µ —á–µ–º —É–≥–ª—É–±–ª—è—Ç—å—Å—è –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏, –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å, **–∫–æ–≥–¥–∞** —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –Ω–∞—Ç–∏–≤–Ω—ã–º –∫–æ–¥–æ–º:

### 1. –í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏

BEAM —Å–æ–∑–¥–∞–Ω –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏, –∞ –Ω–µ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. –ï—Å–ª–∏ –≤–∞—à–µ —É–∑–∫–æ–µ –º–µ—Å—Ç–æ ‚Äî CPU-bound –æ–ø–µ—Ä–∞—Ü–∏–∏:

- üßÆ **–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è** ‚Äî –õ–∏–Ω–µ–π–Ω–∞—è –∞–ª–≥–µ–±—Ä–∞ –∏–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Ç—Ä–∏—Ü–∞–º–∏
- üîê **–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è** ‚Äî –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ/–î–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- üé® **–û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞** ‚Äî –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ
- üß† **–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ** - –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –º–æ–¥–µ–ª–µ–π, –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 2. –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

–ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –¥–æ—Å—Ç—É–ø –∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é:

- üìü **Embedded-—Å–∏—Å—Ç–µ–º—ã** ‚Äî Raspberry Pi, –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã *(–î–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å Nerves –≤ Elixir, –Ω–æ –µ–≥–æ –∏–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –Ω–µ —Ö–≤–∞—Ç–∏—Ç—å)*
- üéÆ **–°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –¥—Ä–∞–π–≤–µ—Ä—ã** ‚Äî –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- üìä **GPU-–≤—ã—á–∏—Å–ª–µ–Ω–∏—è** ‚Äî CUDA, OpenCL

### 3. –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

- üèõÔ∏è **–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** –Ω–∞ C/C++
- üìö **–≠–∫–æ—Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞** –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ *(–Ω–∞–ø—Ä–∏–º–µ—Ä, Python –¥–ª—è ML)*
- üîß **–ò–∑–±–µ–≥–∞–Ω–∏–µ "–∏–∑–æ–±—Ä–µ—Ç–µ–Ω–∏—è –≤–µ–ª–æ—Å–∏–ø–µ–¥–∞"**

### 4. –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞

–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏, —á—Ç–æ –ø–æ—Ä–∞ –∑–∞–¥—É–º–∞—Ç—å—Å—è –æ –Ω–∞—Ç–∏–≤–Ω–æ–º –∫–æ–¥–µ:

```elixir
# –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ - 1000–º—Å
defmodule SlowModule do
  def process_data(data) do
    # –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —É–∑–∫–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    Enum.reduce(data, 0, fn x, acc -> complex_calculation(x) + acc end)
  end

  defp complex_calculation(x) do
    # –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ CPU-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
    # –∫–æ—Ç–æ—Ä—ã–µ –ø–ª–æ—Ö–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –≤ BEAM
  end
end

# –í—ã –∏—Å—á–µ—Ä–ø–∞–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–∞ Elixir –∏ –≤—Å—ë –µ—â—ë –º–µ–¥–ª–µ–Ω–Ω–æ?
# –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ä–∞ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥!
```

> –ù–∞—Ç–∏–≤–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç Elixir –≤ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –≥–¥–µ BEAM —Ä–µ—à–∞–µ—Ç –≤—Å—ë, –∫—Ä–æ–º–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. –≠—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–≤–µ—Ä–∏ –∫ ML, hardware, –≤–∏–¥–µ–æ–æ–±—Ä–∞–±–æ—Ç–∫–µ –∏ –≤—Å–µ–º—É, –≥–¥–µ –≤–∞–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å.

---

## ‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–í—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è —É—Å–ø–µ—Ö–∞ –ø—Ä–æ–µ–∫—Ç–∞. –í–æ—Ç —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∏—Ö –ø–ª—é—Å–∞–º–∏ –∏ –º–∏–Ω—É—Å–∞–º–∏:

| –ú–µ—Ç–æ–¥           | –°–∫–æ—Ä–æ—Å—Ç—å | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å BEAM      | –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤        | –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å                       | –ò–¥–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è      |
| --------------- | -------- | ---------------------- | -------------------- | ----------------------- | ------------------------ | ----------------------------------- | ------------------------------------- |
| **NIF**         | ‚ö°‚ö°‚ö°‚ö°‚ö°    | ‚ùå –û–ø–∞—Å–Ω–æ               | üîßüîßüîß –°—Ä–µ–¥–Ω—è—è       | C, C++                  | –ù–µ—Ç (–ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤)       | ‚ùå –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫             | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, –¥–æ–ª–≥–∏–µ CPU-bound –∑–∞–¥–∞—á–∏ |
| **Dirty NIF**   | ‚ö°‚ö°‚ö°‚ö°     | ‚ö†Ô∏è –£—Å–ª–æ–≤–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ   | üîßüîßüîß –°—Ä–µ–¥–Ω—è—è       | C, C++                  | –ù–µ—Ç (–ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤)       | ‚úÖ –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ | –î–æ–ª–≥–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (>1ms)              |
| **Port**        | ‚ö°‚ö°       | ‚úÖ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–Ω–æ | üîß –ü—Ä–æ—Å—Ç–∞—è           | –õ—é–±–æ–π                   | –í—ã—Å–æ–∫–∏–µ (IPC)            | ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è               | Python, Go, Bash-—Å–∫—Ä–∏–ø—Ç—ã              |
| **Port Driver** | ‚ö°‚ö°‚ö°‚ö°     | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ            | üîßüîßüîßüîß –°–ª–æ–∂–Ω–∞—è     | C, C++                  | –ù–∏–∑–∫–∏–µ                   | ‚úÖ –í—ã–¥–µ–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫                  | –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ/–∞—É–¥–∏–æ                 |
| **gRPC**        | ‚ö°‚ö°       | ‚úÖ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–Ω–æ | üîßüîß –°—Ä–µ–¥–Ω—è—è         | –õ—é–±–æ–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π gRPC | –°—Ä–µ–¥–Ω–∏–µ (—Å–µ—Ç—å)           | ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å                  | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞            |
| **Rustler**     | ‚ö°‚ö°‚ö°‚ö°     | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ            | üîßüîß –°—Ä–µ–¥–Ω—è—è         | Rust                    | –ù–µ—Ç (–ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤)       | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ API        | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ C NIF                    |
| **Zigler**      | ‚ö°‚ö°‚ö°‚ö°‚ö°    | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ            | üîßüîß –°—Ä–µ–¥–Ω—è—è         | Zig                     | –ù–µ—Ç (–ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤)       | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö NIF        | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ C –≤ NIF                  |

### –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –∫–ª—é—á–µ–≤—ã–º –º–µ—Ç—Ä–∏–∫–∞–º

```
–°–∫–æ—Ä–æ—Å—Ç—å:            –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:         –ü—Ä–æ—Å—Ç–æ—Ç–∞:
NIF         ‚ñà‚ñà‚ñà‚ñà‚ñà    Port        ‚ñà‚ñà‚ñà‚ñà‚ñà     Port        ‚ñà‚ñà‚ñà‚ñà‚ñà
Dirty NIF   ‚ñà‚ñà‚ñà‚ñà     Dirty NIF   ‚ñà‚ñà‚ñà       gRPC        ‚ñà‚ñà‚ñà‚ñà
Rustler     ‚ñà‚ñà‚ñà‚ñà     Rustler     ‚ñà‚ñà‚ñà‚ñà      Rustler     ‚ñà‚ñà‚ñà‚ñà
Zigler      ‚ñà‚ñà‚ñà‚ñà‚ñà    Zigler      ‚ñà‚ñà‚ñà‚ñà      Zigler      ‚ñà‚ñà‚ñà‚ñà
Port Driver ‚ñà‚ñà‚ñà‚ñà     Port Driver ‚ñà‚ñà‚ñà‚ñà      NIF         ‚ñà‚ñà‚ñà
Port        ‚ñà‚ñà       gRPC        ‚ñà‚ñà‚ñà‚ñà‚ñà     Port Driver ‚ñà
gRPC        ‚ñà‚ñà       NIF         ‚ñà         Dirty NIF   ‚ñà‚ñà‚ñà
```

---


> _‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ü–µ—Ä–µ–¥ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö —è–∑—ã–∫–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç —Å–Ω–∞—á–∞–ª–∞ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ –Ω–∞ Elixir –±—ã–ª –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω. –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –≥—Ä–∞–º–æ—Ç–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–¥–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∏–Ω–æ–≥–¥–∞ –¥–∞—ë—Ç –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –Ω–µ–∂–µ–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–æ–≥–æ —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è._

<br> **Elixir** –∏ **Erlang** ‚Äî –æ—Ç–ª–∏—á–Ω—ã–µ —è–∑—ã–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã—Ö —Å–∏—Å—Ç–µ–º. –ù–æ –∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤—ã–∂–∞—Ç—å –º–∞–∫—Å–∏–º—É–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –¥–æ—Å—Ç—É–ø–Ω—É—é –ª–∏—à—å –Ω–∞ –¥—Ä—É–≥–æ–º —è–∑—ã–∫–µ. –ï—Å–ª–∏ –≤—ã –ø–æ–ø–∞–ª–∏ –∏–º–µ–Ω–Ω–æ –≤ —Ç–∞–∫—É—é —Å–∏—Ç—É–∞—Ü–∏—é –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å, –∫–∞–∫ —Å–æ–≤–º–µ—Å—Ç–∏—Ç—å –¥–≤–∞ –≤–∞—à–∏—Ö –ª—é–±–∏–º—ã—Ö —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —ç—Ç–∞ —Å—Ç–∞—Ç—å—è –¥–ª—è –≤–∞—Å! <br>


---
<br>

## üîç –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–∞—Ç–∏–≤–Ω—ã–º –∫–æ–¥–æ–º

–ü—Ä–µ–∂–¥–µ —á–µ–º —É–≥–ª—É–±–ª—è—Ç—å—Å—è –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏, –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å, **–∫–æ–≥–¥–∞** —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –Ω–∞—Ç–∏–≤–Ω—ã–º –∫–æ–¥–æ–º:

### 1. –í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏

BEAM —Å–æ–∑–¥–∞–Ω –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏, –∞ –Ω–µ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. –ï—Å–ª–∏ –≤–∞—à–µ —É–∑–∫–æ–µ –º–µ—Å—Ç–æ ‚Äî CPU-bound –æ–ø–µ—Ä–∞—Ü–∏–∏:

- üßÆ **–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è** ‚Äî –õ–∏–Ω–µ–π–Ω–∞—è –∞–ª–≥–µ–±—Ä–∞ –∏–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Ç—Ä–∏—Ü–∞–º–∏
- üîê **–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è** ‚Äî –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ/–î–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- üé® **–û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞** ‚Äî –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ
- üß† **–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ** - –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –º–æ–¥–µ–ª–µ–π, –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 2. –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

–ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –¥–æ—Å—Ç—É–ø –∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é:

- üìü **Embedded-—Å–∏—Å—Ç–µ–º—ã** ‚Äî Raspberry Pi, –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã *(–î–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å Nerves –≤ Elixir, –Ω–æ –µ–≥–æ –∏–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –Ω–µ —Ö–≤–∞—Ç–∏—Ç—å)*
- üéÆ **–°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –¥—Ä–∞–π–≤–µ—Ä—ã** ‚Äî –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- üìä **GPU-–≤—ã—á–∏—Å–ª–µ–Ω–∏—è** ‚Äî CUDA, OpenCL

### 3. –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

- üèõÔ∏è **–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** –Ω–∞ C/C++
- üìö **–≠–∫–æ—Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞** –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ *(–Ω–∞–ø—Ä–∏–º–µ—Ä, Python –¥–ª—è ML)*
- üîß **–ò–∑–±–µ–≥–∞–Ω–∏–µ "–∏–∑–æ–±—Ä–µ—Ç–µ–Ω–∏—è –≤–µ–ª–æ—Å–∏–ø–µ–¥–∞"**

### 4. –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞

–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏, —á—Ç–æ –ø–æ—Ä–∞ –∑–∞–¥—É–º–∞—Ç—å—Å—è –æ –Ω–∞—Ç–∏–≤–Ω–æ–º –∫–æ–¥–µ:

```elixir
# –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ - 1000–º—Å
defmodule SlowModule do
  def process_data(data) do
    # –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —É–∑–∫–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    Enum.reduce(data, 0, fn x, acc -> complex_calculation(x) + acc end)
  end

  defp complex_calculation(x) do
    # –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ CPU-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
    # –∫–æ—Ç–æ—Ä—ã–µ –ø–ª–æ—Ö–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –≤ BEAM
  end
end

# –í—ã –∏—Å—á–µ—Ä–ø–∞–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–∞ Elixir –∏ –≤—Å—ë –µ—â—ë –º–µ–¥–ª–µ–Ω–Ω–æ?
# –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ä–∞ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥!
```

> –ù–∞—Ç–∏–≤–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç Elixir –≤ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –≥–¥–µ BEAM —Ä–µ—à–∞–µ—Ç –≤—Å—ë, –∫—Ä–æ–º–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. –≠—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–≤–µ—Ä–∏ –∫ ML, hardware, –≤–∏–¥–µ–æ–æ–±—Ä–∞–±–æ—Ç–∫–µ –∏ –≤—Å–µ–º—É, –≥–¥–µ –≤–∞–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å.

---

## ‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–í—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è —É—Å–ø–µ—Ö–∞ –ø—Ä–æ–µ–∫—Ç–∞. –í–æ—Ç —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∏—Ö –ø–ª—é—Å–∞–º–∏ –∏ –º–∏–Ω—É—Å–∞–º–∏:

| –ú–µ—Ç–æ–¥           | –°–∫–æ—Ä–æ—Å—Ç—å | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å BEAM      | –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤        | –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å                       | –ò–¥–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è      |
| --------------- | -------- | ---------------------- | -------------------- | ----------------------- | ------------------------ | ----------------------------------- | ------------------------------------- |
| **NIF**         | ‚ö°‚ö°‚ö°‚ö°‚ö°    | ‚ùå –û–ø–∞—Å–Ω–æ               | üîßüîßüîß –°—Ä–µ–¥–Ω—è—è       | C, C++                  | –ù–µ—Ç (–ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤)       | ‚ùå –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫             | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, –¥–æ–ª–≥–∏–µ CPU-bound –∑–∞–¥–∞—á–∏ |
| **Dirty NIF**   | ‚ö°‚ö°‚ö°‚ö°     | ‚ö†Ô∏è –£—Å–ª–æ–≤–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ   | üîßüîßüîß –°—Ä–µ–¥–Ω—è—è       | C, C++                  | –ù–µ—Ç (–ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤)       | ‚úÖ –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ | –î–æ–ª–≥–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (>1ms)              |
| **Port**        | ‚ö°‚ö°       | ‚úÖ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–Ω–æ | üîß –ü—Ä–æ—Å—Ç–∞—è           | –õ—é–±–æ–π                   | –í—ã—Å–æ–∫–∏–µ (IPC)            | ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è               | Python, Go, Bash-—Å–∫—Ä–∏–ø—Ç—ã              |
| **Port Driver** | ‚ö°‚ö°‚ö°‚ö°     | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ            | üîßüîßüîßüîß –°–ª–æ–∂–Ω–∞—è     | C, C++                  | –ù–∏–∑–∫–∏–µ                   | ‚úÖ –í—ã–¥–µ–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫                  | –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ/–∞—É–¥–∏–æ                 |
| **gRPC**        | ‚ö°‚ö°       | ‚úÖ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–Ω–æ | üîßüîß –°—Ä–µ–¥–Ω—è—è         | –õ—é–±–æ–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π gRPC | –°—Ä–µ–¥–Ω–∏–µ (—Å–µ—Ç—å)           | ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å                  | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞            |
| **Rustler**     | ‚ö°‚ö°‚ö°‚ö°     | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ            | üîßüîß –°—Ä–µ–¥–Ω—è—è         | Rust                    | –ù–µ—Ç (–ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤)       | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ API        | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ C NIF                    |
| **Zigler**      | ‚ö°‚ö°‚ö°‚ö°‚ö°    | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ            | üîßüîß –°—Ä–µ–¥–Ω—è—è         | Zig                     | –ù–µ—Ç (–ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤)       | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö NIF        | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ C –≤ NIF                  |

### –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –∫–ª—é—á–µ–≤—ã–º –º–µ—Ç—Ä–∏–∫–∞–º

```
–°–∫–æ—Ä–æ—Å—Ç—å:            –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:         –ü—Ä–æ—Å—Ç–æ—Ç–∞:
NIF         ‚ñà‚ñà‚ñà‚ñà‚ñà    Port        ‚ñà‚ñà‚ñà‚ñà‚ñà     Port        ‚ñà‚ñà‚ñà‚ñà‚ñà
Dirty NIF   ‚ñà‚ñà‚ñà‚ñà     Dirty NIF   ‚ñà‚ñà‚ñà       gRPC        ‚ñà‚ñà‚ñà‚ñà
Rustler     ‚ñà‚ñà‚ñà‚ñà     Rustler     ‚ñà‚ñà‚ñà‚ñà      Rustler     ‚ñà‚ñà‚ñà‚ñà
Zigler      ‚ñà‚ñà‚ñà‚ñà‚ñà    Zigler      ‚ñà‚ñà‚ñà‚ñà      Zigler      ‚ñà‚ñà‚ñà‚ñà
Port Driver ‚ñà‚ñà‚ñà‚ñà     Port Driver ‚ñà‚ñà‚ñà‚ñà      NIF         ‚ñà‚ñà‚ñà
Port        ‚ñà‚ñà       gRPC        ‚ñà‚ñà‚ñà‚ñà‚ñà     Port Driver ‚ñà
gRPC        ‚ñà‚ñà       NIF         ‚ñà         Dirty NIF   ‚ñà‚ñà‚ñà
```

---

## üõ†Ô∏è –ù–µ–º–Ω–æ–≥–æ –æ –º–µ—Ö–∞–Ω–∏–∑–º–∞—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### üß† NIFs ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**Native Implemented Functions (NIFs)** ‚Äî —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, –Ω–æ –∏ —Å–∞–º—ã–π –æ–ø–∞—Å–Ω—ã–π. –û–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ –ø–æ—Ç–æ–∫–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ BEAM, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –º–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞ —Å—á–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤.

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç NIF?

1. **–ö–æ–º–ø–∏–ª—è—Ü–∏—è**: –ù–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥ (C/Rust/Zig) –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É (`.so`, `.dll`)
2. **–ó–∞–≥—Ä—É–∑–∫–∞**: BEAM –∑–∞–≥—Ä—É–∂–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –º–æ–¥—É–ª—è —á–µ—Ä–µ–∑ `:erlang.load_nif/2`
3. **–ü—Ä—è–º–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**: –§—É–Ω–∫—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ç–æ–º –∂–µ –ø–æ—Ç–æ–∫–µ, —á—Ç–æ –∏ –≤—ã–∑—ã–≤–∞—é—â–∏–π Elixir-–∫–æ–¥

#### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- **–ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å**: –í—ã–∑–æ–≤ –∑–∞–Ω–∏–º–∞–µ—Ç ~0.1-1 Œºs (–≤ 100-1000 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ Ports)
- **–î–æ—Å—Ç—É–ø –∫ BEAM API**: –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ç–µ—Ä–º–∞–º–∏ Erlang
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏**: –ù–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ**: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–¥—ë—Ç –≤–º–µ—Å—Ç–µ —Å OTP-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

#### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- **–†–∏—Å–∫ –ø–∞–¥–µ–Ω–∏—è –≤—Å–µ–π –í–ú**: –û—à–∏–±–∫–∞ –≤ NIF —É–±—å—ë—Ç –≤–µ—Å—å BEAM
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞**: –î–æ–ª–≥–∏–µ NIF –∑–∞–º–æ—Ä–∞–∂–∏–≤–∞—é—Ç –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏**: –¢—Ä—É–¥–Ω–æ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å**: –¢—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è –ø–æ–¥ –∫–∞–∂–¥—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

### Dirty NIFs ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞

–° Erlang/OTP 20+ –ø–æ—è–≤–∏–ª–∏—Å—å **Dirty NIFs** ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –≤–∏–¥ NIF, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–º –ø—É–ª–µ –ø–æ—Ç–æ–∫–æ–≤, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–æ–ª–≥–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ BEAM.

```c
// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Dirty NIF
static ErlNifFunc nif_funcs[] = {
    {"long_computation", 1, long_computation_nif, ERL_NIF_DIRTY_CPU}
};
```

> üí° **–°–æ–≤–µ—Ç**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ERL_NIF_DIRTY_CPU` –¥–ª—è CPU-bound –æ–ø–µ—Ä–∞—Ü–∏–π –∏ `ERL_NIF_DIRTY_IO` –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞

### üîå Ports ‚Äî –ø–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è

**Ports** ‚Äî —Å–ø–æ—Å–æ–± –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ (stdin/stdout). –≠—Ç–æ —Å–∞–º—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, —Ç–∞–∫ –∫–∞–∫ –≤–Ω–µ—à–Ω—è—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –û–°.

#### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç Ports?

1. **–ó–∞–ø—É—Å–∫**: Elixir –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–Ω–µ—à–Ω—é—é –ø—Ä–æ–≥—Ä–∞–º–º—É –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π OS-–ø—Ä–æ—Ü–µ—Å—Å
2. **–û–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏**: –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ (stdin/stdout)
3. **–ò–∑–æ–ª—è—Ü–∏—è**: –ü–∞–¥–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ BEAM

#### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- **–ü–æ–ª–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ò–∑–æ–ª—è—Ü–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å BEAM
- **–Ø–∑—ã–∫–æ–≤–∞—è –∞–≥–Ω–æ—Å—Ç–∏—á–Ω–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º —è–∑—ã–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –æ—Ç–ª–∞–¥–∫–∏**: –í–Ω–µ—à–Ω—é—é –ø—Ä–æ–≥—Ä–∞–º–º—É –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–ª—è BEAM –±–∏–±–ª–∏–æ—Ç–µ–∫

#### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- **–í—ã—Å–æ–∫–∏–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã**: ~100-500 Œºs –Ω–∞ –≤—ã–∑–æ–≤
- **–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–æ–±—ã—á–Ω–æ –≤ JSON)
- **–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã**: –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–∑—ã–≤–∞—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### üöó Port Drivers ‚Äî –∑–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞

**Port Drivers** ‚Äî –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Ports, –Ω–æ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è. –≠—Ç–æ –¥—Ä–∞–π–≤–µ—Ä—ã –Ω–∞ —è–∑—ã–∫–µ C, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –∞–¥—Ä–µ—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ BEAM –∏ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö.

#### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç Port Drivers?

1. **–ó–∞–≥—Ä—É–∑–∫–∞**: BEAM –∑–∞–≥—Ä—É–∂–∞–µ—Ç C-–±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤ —Å–≤–æ–µ –∞–¥—Ä–µ—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
2. **–í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞**: –î—Ä–∞–π–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
3. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –û–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π

#### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- **–°–∫–æ—Ä–æ—Å—Ç—å**: –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –æ–±—ã—á–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ú–µ–Ω—å—à–∏–π —Ä–∏—Å–∫ —á–µ–º —É NIF
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–£–¥–æ–±—Å—Ç–≤–æ**: –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø—É—Å–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞

#### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –¢—Ä–µ–±—É–µ—Ç –∑–Ω–∞–Ω–∏—è C API Erlang
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å C/C++
- **–ú–µ–Ω—å—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ù–µ —Ç–∞–∫ –º–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤

### üêä [Zigler](https://github.com/E-xyza/zigler) - –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ NIFs –¥–ª—è Zig

**Zigler** ‚Äî –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –ø–∏—Å–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω–∞ —è–∑—ã–∫–µ **Zig**. –í—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä **Zig** –ø—Ä—è–º–æ –≤ —Ü–∏–∫–ª –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ **Elixir** –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –ø–∏—Å–∞—Ç—å –∫–æ–¥ –Ω–∞ **Zig** –≤ –º–æ–¥—É–ª—è—Ö **Elixir**

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –≤—ã–∑–æ–≤ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–¥–∞
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏ –±–µ–∑ —Å–±–æ—Ä—â–∏–∫–∞ –º—É—Å–æ—Ä–∞
- –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º –æ–ø–µ—Ä–∞—Ü–∏—è–º
- –ë–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –Ω–∞—Ç–∏–≤–Ω—ã–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–æ—Ä—è—á–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–¥–∞

### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- **Zig** ‚Äî –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –º–æ–ª–æ–¥–æ–π —è–∑—ã–∫ —Å –º–µ–Ω—å—à–∏–º —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º
- –ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ **Elixir**
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å **Rust**

## [Rustler](https://github.com/rusterlium/rustler) - –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ NIFs –¥–ª—è Rust

Rustler ‚Äî —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π Erlang/Elixir –Ω–∞ —è–∑—ã–∫–µ Rust. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –±–∏–Ω–¥–∏–Ω–≥ –º–µ–∂–¥—É Rust –∏ Erlang/Elixir, –ø–æ–∑–≤–æ–ª—è—è –ø–∏—Å–∞—Ç—å NIFs –Ω–∞ Rust.

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á
- –ë–æ–≥–∞—Ç–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –ø–∞–∫–µ—Ç–æ–≤ Rust (crates)
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–±–æ–µ–≤ –≤ –Ω–∞—Ç–∏–≤–Ω–æ–º –∫–æ–¥–µ (–∑–∞—â–∏—Ç–∞ BEAM –æ—Ç –ø–∞–¥–µ–Ω–∏—è)
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ BEAM

### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
- –£—Å–ª–æ–∂–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –¢—Ä–µ–±—É–µ—Ç –∑–Ω–∞–Ω–∏—è –¥–≤—É—Ö —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–∞—Ä–∞–¥–∏–≥–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é –≤–µ—Ä—Å–∏–π
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ —Å—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### üåê gRPC –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

–î–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, gRPC –∏ –ø–æ–¥–æ–±–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π —Å–ø–æ—Å–æ–± –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

#### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ gRPC –¥–ª—è Elixir

- **–°—Ö–µ–º–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤**: –°—Ç—Ä–æ–≥–∏–µ —Ç–∏–ø—ã —á–µ—Ä–µ–∑ Protocol Buffers
- **–î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Å—Ç—Ä–∏–º–∏–Ω–≥**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã
- **–ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —è–∑—ã–∫–æ–≤
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω —á–µ–º REST/JSON

> ‚ùóÔ∏è–ü—Ä–∏–º–µ—Ä —Å **gRPC** –±—ã–ª —Å–ª–∏—à–∫–æ–º –æ–±—ä—ë–º–µ–Ω, —á—Ç–æ–±—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –µ–≥–æ –≤ —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏, –∏–∑-–∑–∞ —á–µ–≥–æ –æ–Ω –Ω–µ –±—ã–ª –≤–∫–ª—é—á—ë–Ω –≤ –Ω–µ—ë. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ gRPC –Ω–∞ Elixir –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å –≤–æ—Ç —Ç—É—Ç -  [elixir-grpc](https://github.com/elixir-grpc/grpc?ysclid=max94g2mno544469162)


---

# üß™ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

> üìö _–¶–µ–ª—å —Å—Ç–∞—Ç—å–∏ ‚Äî –¥–∞—Ç—å –æ–±–∑–æ—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ω–∞—Ç–∏–≤–Ω—ã–º –∫–æ–¥–æ–º. –ì–ª—É–±–æ–∫–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ edge-–∫–µ–π—Å—ã –∑–¥–µ—Å—å –æ–ø—É—â–µ–Ω—ã, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Ç–µ–æ—Ä–∏–µ–π –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º._

## üîç –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞ –º–µ—Ç–æ–¥–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–ü—Ä–µ–∂–¥–µ —á–µ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–∏–º–µ—Ä–∞–º, –æ–ø—Ä–µ–¥–µ–ª–∏–º –∫–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã –≤—ã–±–æ—Ä–∞:

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ù–∞—Å–∫–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—ã–∑–æ–≤
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –†–∏—Å–∫ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ BEAM
3. **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: –õ–µ–≥–∫–æ –ª–∏ –≤–Ω–µ–¥—Ä–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ
4. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–∞**: –ù–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ —è–∑—ã–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å BEAM

## 1. ‚öôÔ∏è C ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å NIF –∏ Port Drivers

**–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
- **NIF** ‚Äî –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (<1ms)
- **Port Drivers** ‚Äî –¥–ª—è –¥–æ–ª–≥–∏—Ö –∏–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

### –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫?

C –∏–º–µ–µ—Ç –ø—Ä—è–º—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å BEAM, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –∏–¥–µ–∞–ª—å–Ω—ã–º –¥–ª—è:

- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞—á
- –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (—Ä–∞–±–æ—Ç–∞ —Å –∂–µ–ª–µ–∑–æ–º, GPU)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ C-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏

### –ü—Ä–∏–º–µ—Ä 1: –ë—ã—Å—Ç—Ä—ã–π NIF –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è C)

```c
// hash_nif.c
#include <erl_nif.h>
#include <openssl/sha.h>

static ERL_NIF_TERM sha256_nif(ErlNifEnv* env, int argc, const ERL_NIF_TERM argv[]) {
    ErlNifBinary input;
    if (!enif_inspect_binary(env, argv[0], &input)) {
        return enif_make_badarg(env);
    }

    unsigned char hash[SHA256_DIGEST_LENGTH];
    SHA256(input.data, input.size, hash);

    ErlNifBinary output;
    enif_alloc_binary(SHA256_DIGEST_LENGTH, &output);
    memcpy(output.data, hash, SHA256_DIGEST_LENGTH);

    return enif_make_binary(env, &output);
}

static ErlNifFunc nif_funcs[] = {
    {"sha256", 1, sha256_nif}
};

ERL_NIF_INIT(Elixir.CryptoNif, nif_funcs, NULL, NULL, NULL, NULL)
```

**Elixir —á–∞—Å—Ç—å**:

```elixir
defmodule CryptoNif do
  @on_load :load_nif
  def load_nif do
    :erlang.load_nif(Path.expand("./hash_nif"), 0)
  end

  def sha256(_data), do: raise "NIF not loaded!"
end
```

**–ö–æ–º–ø–∏–ª—è—Ü–∏—è C-–∏—Å—Ö–æ–¥–Ω–∏–∫–∞**:

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –≤–∞–º –Ω—É–∂–Ω–∞ **openssl** –±–∏–±–ª–∏–æ—Ç–µ–∫–∞

```Bash
# –î–ª—è Ubuntu/Debian
sudo apt-get install libssl-dev
```

```Bash
# –î–ª—è CentOS/RHEL
sudo yum install openssl-devel
```

```Bash
# –î–ª—è macOS (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Homebrew)
brew install openssl
```

```Bash
gcc -shared -fPIC -o hash_nif.so hash_nif.c \
  -I /usr/lib/erlang/erts-15.2.7/include \ # –ü—É—Ç—å –¥–æ Erlang –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã
  -I /usr/include/openssl \
  -L /usr/lib/openssl \
  -lssl -lcrypto
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:

```Elixir
iex(1)> CryptoNif.sha256("test")
<<159, 134, 208, 129, 136, 76, 125, 101, 154, 47, 234, 160, 197, 90, 208, 21, 163, 191, 79, 27, 43, 11, 130, 44, 209, 93, 108, 21, 176, 240, 10, 8>>
```

### –ü—Ä–∏–º–µ—Ä 2: Port Driver –¥–ª—è —Ä–µ–≤–µ—Ä—Å–∞ —Å—Ç—Ä–æ–∫–∏

```c
// reverse_driver.c
#include "erl_driver.h"
#include <string.h>

typedef struct {
    ErlDrvPort port;
} DriverData;

static void reverse_and_send(ErlDrvData drv_data, char* buf, ErlDrvSizeT len) {
    DriverData* d = (DriverData*)drv_data;

    for (ErlDrvSizeT i = 0; i < len / 2; i++) {
        char temp = buf[i];
        buf[i] = buf[len - 1 - i];
        buf[len - 1 - i] = temp;
    }

    driver_output(d->port, buf, len);
}

static ErlDrvData driver_start(ErlDrvPort port, char* command) {
    DriverData* d = (DriverData*)driver_alloc(sizeof(DriverData));
    d->port = port;
    return (ErlDrvData)d;
}

static void driver_stop(ErlDrvData drv_data) {
    DriverData* d = (DriverData*)drv_data;
    driver_free(d);
}

static ErlDrvEntry driver_entry = {
    .init = NULL,
    .start = driver_start,
    .stop = driver_stop,
    .output = reverse_and_send,
    .ready_input = NULL,
    .ready_output = NULL,
    .driver_name = "reverse_driver",
    .finish = NULL,
    .handle = NULL,
    .control = NULL,
    .timeout = NULL,
    .outputv = NULL,
    .ready_async = NULL,
    .flush = NULL,
    .call = NULL,
    .extended_marker = ERL_DRV_EXTENDED_MARKER,
    .major_version = ERL_DRV_EXTENDED_MAJOR_VERSION,
    .minor_version = ERL_DRV_EXTENDED_MINOR_VERSION,
    .driver_flags = 0,
    .handle2 = NULL,
    .process_exit = NULL,
    .stop_select = NULL
};


DRIVER_INIT(reverse_driver) {
    return &driver_entry;
}

```

**Elixir —á–∞—Å—Ç—å**:

```elixir
defmodule ReverseString do
  def start() do
    :ok = :erl_ddll.load_driver('./', 'reverse_driver')
    Port.open({:spawn, 'reverse_driver'}, [:binary])
  end

  def reverse(port, string) when is_binary(string) do
    true = Port.command(port, string)
    receive do
      {^port, {:data, result}} -> result
    after
      1000 -> {:error, :timeout}
    end
  end

  def stop(port) do
    Port.close(port)
  end
end
```

**–ö–æ–º–ø–∏–ª—è—Ü–∏—è C-–∏—Å—Ö–æ–¥–Ω–∏–∫–∞**:

```Bash
gcc -std=gnu99 -shared -fPIC -o reverse_driver.so reverse_driver.c \
    -I/usr/lib/erlang/erts-15.2.7/include/ # –ü—É—Ç—å –¥–æ Erlang –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:

```Bash
iex(1)> port = ReverseString.start
#Port<0.6>
iex(2)> ReverseString.reverse(port, "hello")
"olleh"
```

## 2. ü¶Ä Rust ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å Rustler

**–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥**: Rustler (—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ NIF)

### –ü–æ—á–µ–º—É Rustler?

- –ü–æ–ª–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏
- –£–¥–æ–±–Ω—ã–µ –º–∞–∫—Ä–æ—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å BEAM —Ç–µ—Ä–º–∏–Ω–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

### –ü—Ä–∏–º–µ—Ä: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

**–î–æ–±–∞–≤–ª—è–µ–º –≤ mix.exe `Rustler`** *(–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è - 0.36.1)*

```Elixir
  defp deps do
    [
      {:rustler, "~> 0.36.1"}
    ]
  end
```

**–î–æ–±–∞–≤–ª—è–µ–º Rust-–ø—Ä–æ–µ–∫—Ç –≤ Elixir**

```Bash
mix deps.get
mix rustler.new

This is the name of the Elixir module the NIF module will be registered to.
Module name > RustUtils
This is the name used for the generated Rust crate. The default is most likely fine.
Library name (rustutils) > # –¢—É—Ç –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–∏–º–∞–µ–º Enter (–ù—É –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –Ω–∞ –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ)
```

```rust
// lib.rs
use rayon::prelude::*;

#[rustler::nif]
fn parallel_double(input: Vec<i64>) -> Vec<i64> {
    input.par_iter().map(|&x| x * 2).collect()
}

rustler::init!("Elixir.RustUtils");
```

**Elixir —á–∞—Å—Ç—å**:

```elixir
defmodule RustUtils do
  use Rustler, otp_app: :rust_utils, crate: "rustutils"

  def parallel_double(_list), do: :erlang.nif_error(:not_loaded)
end
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```Elixir
RustUtils.parallel_double([1, 2, 3])
# => [2, 4, 6]
```

## 3. üêç Python ‚Äî –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Ports

**–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥**: Ports

### –ü–æ—á–µ–º—É Ports?

- –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –æ—Ç–ª–∞–¥–∫–∏
- –î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É Python-—ç–∫–æ—Å–∏—Å—Ç–µ–º–µ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (ML –º–æ–¥–µ–ª–∏ –∏ —Ç.–¥.)

### –ü—Ä–∏–º–µ—Ä: –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–µ–π –º–æ–¥–µ–ª–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TensorFlow

**–°–æ–∑–¥–∞—ë–º –º–æ–¥–µ–ª—å**

```Python
# create_model.py
import tensorflow as tf
import numpy as np

model = tf.keras.Sequential([
    tf.keras.layers.Dense(1, input_shape=(3,), use_bias=False)
])

model.set_weights([np.array([[1.0], [1.0], [1.0]])])

model.save("my_model.h5")
print("‚úÖ Model saved to my_model.h5")
```

```python
#tensorflow_port
import sys
import json
import numpy as np
import tensorflow as tf
import os

os.environ['TF_CPP_MIN_LOG_LEVEL'] = '3'
tf.get_logger().setLevel('ERROR')

model = tf.keras.models.load_model('my_model.h5')

def predict(data):
    try:
        if isinstance(data, str):
            data = json.loads(data)

        input_array = np.array(data, dtype=np.float32).reshape(1, 3)
        prediction = model.predict(input_array)
        return json.dumps({"status": "success", "result": prediction.tolist()})
    except Exception as e:
        return json.dumps({"status": "error", "message": str(e)})

if __name__ == "__main__":
    for line in sys.stdin:
        line = line.strip()
        if not line:
            continue

        try:
            response = predict(line)
            sys.stdout.write(response + "\n")
            sys.stdout.flush()
        except Exception as e:
            error = json.dumps({"status": "error", "message": str(e)})
            sys.stdout.write(error + "\n")
            sys.stdout.flush()

```

**Elixir —á–∞—Å—Ç—å**:

```Elixir
defmodule TensorflowPort do
  @timeout 5_000

  def start do
    Port.open(
      {:spawn, "python3 tensorflow_port.py"},
      [:binary, :use_stdio, :exit_status, :stderr_to_stdout, {:line, 1024}]
    )
  end

  def predict(port, input_data) do
    input_data
    |> Jason.encode!()
    |> then(&Port.command(port, &1 <> "\n"))

    wait_for_response(port)
  end

  defp wait_for_response(port) do
    receive do
      {^port, {:data, {:eol, line}}} ->
        case Jason.decode(line) do
          {:ok, %{"status" => "success", "result" => result}} -> {:ok, result}
          {:ok, %{"status" => "error", "message" => msg}} -> {:error, msg}
          _ -> wait_for_response(port)
        end

      {^port, {:exit_status, status}} ->
        {:error, "Python process exited with status #{status}"}
    after
      @timeout -> {:error, :timeout}
    end
  end
end
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–π—Ç–∏ –≤ Python-–æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –æ—Ç—Ç—É–¥–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å `iex -S mix`

```Elixir
(venv)
iex(1)> port = TensorflowPort.start
#Port<0.10>
iex(2)> TensorflowPort.predict(port, [1,2,3])
{:ok, [[6.0]]}
```

## 4. üêπ Go ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ C-–æ–±—ë—Ä—Ç–∫–∏ –∏–ª–∏ gRPC

**–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
- C-–æ–±—ë—Ä—Ç–∫–∏ –¥–ª—è NIF ‚Äî –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- gRPC ‚Äî –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

### C-–æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è Go –∫–æ–¥–∞ (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

```go
// fib.go
package main

import "C"

func GoFib(n C.int) C.int {
	a, b := 0, 1
	for i := 0; i < int(n); i++ {
		a, b = b, a+b
	}
	return C.int(a)
}

func main() {}
```

**C-–æ–±—ë—Ä—Ç–∫–∞**:

```c
// c_src/go_nif.c
#include <erl_nif.h>
#include "libfib.h"

static ERL_NIF_TERM go_fib_nif(ErlNifEnv* env, int argc, const ERL_NIF_TERM argv[]) {
    int n;
    if (!enif_get_int(env, argv[0], &n)) {
        return enif_make_badarg(env);
    }
    return enif_make_int(env, GoFib(n));
}

static ErlNifFunc nif_funcs[] = {
    {"go_fib", 1, go_fib_nif}
};

ERL_NIF_INIT(Elixir.NifGo, nif_funcs, NULL, NULL, NULL, NULL)
```

**Elixir —á–∞—Å—Ç—å**:

```Elixir
defmodule NifGo do
  @on_load :load_nif

  def load_nif do
    nif_path = Path.expand("priv/go_nif", File.cwd!())

    # –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Go-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏
    :erlang.load_nif(Path.expand("priv/libfib", File.cwd!()), 0)

    # –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π NIF-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏
    :erlang.load_nif(nif_path, 0)
  end

  def go_fib(_n), do: raise("NIF not loaded!")
end

```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```Bash
go build -buildmode=c-shared -o priv/libfib.so fib.go

gcc -shared -fPIC \
    -I/usr/lib/erlang/erts-15.2.7/include/ \ # –ü—É—Ç—å –¥–æ Erlang –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã
    -I./priv \
    -o priv/go_nif.so \
    c_src/go_nif.c \
    ./priv/libfib.so \
    -Wl,-rpath,'$ORIGIN'

LD_LIBRARY_PATH=./priv iex -S mix

iex(1)> NifGo.go_fib(3)
2
```

> ‚ö†Ô∏è _–ï—Å–ª–∏ –≤–∞–º –Ω–µ —Ö–æ—á–µ—Ç—Å—è –≤–æ–∑–∏—Ç—å—Å—è —Å –∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π –∏ ABI, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å gRPC –∏–ª–∏ Ports –≤–º–µ—Å—Ç–æ cgo. –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, —Ö–æ—Ç—å –∏ –º–µ–¥–ª–µ–Ω–Ω–µ–µ._

## 5. ‚ö° Zig ‚Äî –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Zigler

**–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥**: Zigler (—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è Zig)

### –ü–æ—á–µ–º—É Zigler?

- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∫–∞–∫ —É Rustler
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞–∫ —É C
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∏—á–∏ —è–∑—ã–∫–∞ (comptime, etc.)
- –ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ —á–∏—Å—Ç–æ–≥–æ C

### –ü—Ä–∏–º–µ—Ä: –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–î–æ–±–∞–≤—å—Ç–µ Zigler –≤ mix.exe:**

```Elixir
def deps do
  [
    {:zigler, "~> 0.13.2", runtime: false}
  ]
end
```

**lib/nif_zig.ex**:

```Elixir
defmodule NifZig do
  use Zig, otp_app: :zigler

  ~Z"""
  pub fn string_count(string: []u8) i64 {
    return @intCast(string.len);
  }

  pub fn list_sum(array: []f64) f64 {
    var sum: f64 = 0.0;
    for(array) | item | {
      sum += item;
    }
    return sum;
  }
  """
end
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```Elixir
iex(3)> NifZig.string_count("hello")
5
iex(4)> NifZig.list_sum([1.2,2.3,3.4,4.5])
11.4
```

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤

| –Ø–∑—ã–∫   | –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥       | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã       | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å                  |
|--------|-------------------------|--------------------|-------------------------------------|
| **C**  | NIF, Port Drivers       | Ports              | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å     |
| **Rust** | Rustler (NIF)         | -                  | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å + –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å  |
| **Python** | Ports               | gRPC               | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ML/–Ω–∞—É—á–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ |
| **Go** | C-–æ–±—ë—Ä—Ç–∫–∏ (NIF), gRPC | Ports              | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Go-—ç–∫–æ—Å–∏—Å—Ç–µ–º—ã        |
| **Zig** | Zigler (NIF)        | -                  | –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ C         |

---

## üò¥ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Elixir —Å –Ω–∞—Ç–∏–≤–Ω—ã–º –∫–æ–¥–æ–º –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –ø–æ–∑–≤–æ–ª—è—è —Å–æ—á–µ—Ç–∞—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ BEAM (–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å, –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å) —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤. –í —Å—Ç–∞—Ç—å–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: NIF, Dirty NIF, Ports, Port Drivers, Rustler, Zigler –∏ gRPC, –∞ —Ç–∞–∫–∂–µ –∏—Ö –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

–ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –≤—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–µ–Ω –æ—Å–Ω–æ–≤—ã–≤–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Å—Ç–æ—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

---

## –û—Ç –∞–≤—Ç–æ—Ä–∞
–ë–ª–∞–≥–æ–¥–∞—Ä—é –≤–∞—Å –∑–∞ –≤–Ω–∏–º–∞–Ω–∏–µ –∫ –¥–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–µ! –ù–∞–¥–µ—é—Å—å, –≤–∞–º –±—ã–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —É–∑–Ω–∞—Ç—å –ø—Ä–æ —Å–ø–æ—Å–æ–±—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ –≤ Elixir. –ò–∑ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –º–Ω–µ –ø–æ–∫–∞–∑–∞–ª—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º Port Drivers, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Ç–∞–∫–æ–≥–æ –¥—Ä–∞–π–≤–µ—Ä–∞ —Å–∞–º–æ –ø–æ —Å–µ–±–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç–æ—è—â–∏–π –∫–≤–µ—Å—Ç, —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π –ª–∏—à—å –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Å–æ–≤ –ø–æ–¥–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –Ω–∞ C. –í –æ—Å—Ç–∞–ª—å–Ω–æ–º, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ –≤ Elixir –æ–∫–∞–∑–∞–ª–∞—Å—å –≤–æ–≤—Å–µ –Ω–µ—Å–ª–æ–∂–Ω–æ–π, —Å–∫–æ—Ä–µ–µ –¥–∞–∂–µ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–π.

–ï—Å–ª–∏ –≤—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏ –≤ –º–∞—Ç–µ—Ä–∏–∞–ª–µ –∏–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äî –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–ø–∏—à–∏—Ç–µ –æ–± —ç—Ç–æ–º –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –≤—Å–µ–≥–¥–∞ —Ü–µ–Ω–Ω–∞ üòé

–î–ª—è —Ç–µ—Ö, –∫–æ–º—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –≥–ª—É–±–∂–µ –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –º–∏—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –ø—Ä–∏–≥–ª–∞—à–∞—é –∑–∞–≥–ª—è–Ω—É—Ç—å –≤ –º–æ–π [—Ç–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª](https://t.me/behind_the_circus) üñ•, –≥–¥–µ —è –¥–µ–ª—é—Å—å —Ä–µ—Ü–µ–Ω–∑–∏—è–º–∏ –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫–Ω–∏–≥–∏, –ø–æ–ª–µ–∑–Ω—ã–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –ø–æ Elixir –∏ –Ω–µ —Ç–æ–ª—å–∫–æ ü§§
